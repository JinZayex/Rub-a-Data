<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Player Test Youtube</title>
  <script src="https://www.youtube.com/iframe_api"></script>
  <script type="text/javascript">
    var player;
    var videoIds = [
      'tgbNymZ7vqY', // Primo video
      'hipBlnFz95M', // Secondo video
      'lTTajzrSkCw', // Terzo video
      's6zR2T9vn2c', // Quarto video
      'wDgQdr8ZkTw'  // Quinto video
    ];
    var currentVideoIndex = 0;

    // Questa funzione viene chiamata quando l'API di YouTube è pronta
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        events: {
          'onStateChange': onPlayerStateChange
        }
      });
    }

    // Questa funzione viene chiamata ogni volta che lo stato del player cambia
    function onPlayerStateChange(event) {
      if (event.data == YT.PlayerState.ENDED) {
        currentVideoIndex++;
        document.getElementById('message').innerHTML = 'Il video è terminato! Caricamento del prossimo video...' + currentVideoIndex;
        // Carica e avvia il nuovo video
        player.loadVideoById(videoIds[currentVideoIndex]);
        } 
      }


  </script>
</head>
<body>

  <h1>Player Test</h1>

  <iframe id="player" width="420" height="315"
  src="https://www.youtube.com/embed/tgbNymZ7vqY?enablejsapi=1">
  </iframe>
  <br/>

  <div id="message"></div>
  
  <button onclick="window.location.href='../index.xhtml'">Vai alla home</button>

</body>
</html>
